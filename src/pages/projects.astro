---
// Components
import Layout from '../layouts/Layout.astro';

// Data
import data from '../data/projects.json';
---
<Layout title="Projects | Maggie Bittarelli">
  <main id="projects">
    <ul id="project-list">
      {
        data.projects.length > 0 &&
          data.projects.map((project) => {
            let tags = [];
            if (project.tags.length > 0) {
              for (let tag of project.tags) {
                tags.push(<li class="project-tag">{tag}</li>);
              }
            }
            return (
              <li class="project">
                <img src={project.imageSrc} alt="" />
                <div class="project-copy">
                  <h2>{project.projectName}</h2>
                  {
                    project.link &&
                      <a
                        href={project.link.href}
                        rel="noreferrer noopener"
                        target="_blank"
                      >
                        {project.link.copy}
                      </a>
                  }
                  <p>{project.description}</p>

                  {
                    tags.length > 0 &&
                      <ul class="project-tags">
                        {tags}
                      </ul>
                  }
                </div>
              </li>
            );
          })
      }
    </ul>
  </main>
</Layout>

<style>
  main#projects {
    padding: 2rem;
    max-width: 1150px;
    margin: 2rem auto;
    width: 100%;
    display: flex;
    justify-content: center;
    color: rgb(215,213,213);
    font-family: 'Charsey';
  }

  /* List of projects */
  main#projects #project-list {
    width: 100%;
    max-width: 1000px;
    gap: 2rem;
    display: flex;
    flex-direction: column;
  }

  /* Individual projects */
  main#projects #project-list .project {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 2rem;
    border-radius: .5rem;
    background-color: #181818;
  }

  /* Project image */
  main#projects #project-list .project img {
    width: 400px;
    height: 100%;
    object-fit: cover;
    border-top-left-radius: .5rem;
    border-bottom-left-radius: .5rem;
  }

  /* Project copy wrapper */
  main#projects #project-list .project .project-copy {
    margin-top: 1rem;
    margin-right: 1rem;
    margin-bottom: 1rem;
  }

  /* Project name */
  main#projects #project-list .project h2 {
    font-size: 2rem;
    margin-top: unset;
    margin-bottom: 1rem;
    color: rgb(170, 170, 246);
  }

  /* Link to live project */
  main#projects #project-list .project a {
    border: 2px solid rgb(234, 151, 255);
    border-radius: .5rem;
    padding: .25rem 1rem;
    color: rgb(234, 151, 255);
    text-decoration: none;
    transition: transform .15s ease-in-out;
    display: inline-block;
  }
  main#projects #project-list .project a:hover {
    transform: translate(3%, 3%);
  }

  /* Project description */
  main#projects #project-list .project p {
    font-size: 1.2rem;
  }

  /* Project tags */
  main#projects #project-list .project-tags {
    display: flex;
    flex-direction: row;
    list-style-type: none;
    gap: 1rem;
    flex-wrap: wrap;
  }

  /* Individual project tag */
  main#projects #project-list .project-tag {
    border: 2px solid rgb(121, 192, 255);
    padding: .25rem 1rem;
    border-radius: 2rem;
    transition: transform .2s ease-in-out;
  }
  main#projects #project-list .project-tag:hover {
    transform: translate(3%, 3%);
  }
  </style>