---
// Components
import Layout from '../layouts/Layout.astro';

// Data
import data from '../data/projects.json';
---
<Layout title="Projects | Maggie Bittarelli">
  <main id="projects">
    <h1>{data.heading}</h1>
    <p>{data.description}</p>
    <ul id="project-list">
      {
        data.projects.length > 0 &&
          data.projects.map((project) => {
            let tags = [];
            if (project.tags.length > 0) {
              for (let tag of project.tags) {
                tags.push(<li class="project-tag">{tag}</li>);
              }
            }
            return (
              <li class="project">
                {/* <img src={project.imageSrc} alt="" class="project-image" /> */}
                <div class="project-image"></div>
                <div class="project-copy">
                  <h2>{project.projectName}</h2>
                  {
                    project.link &&
                      <a
                        href={project.link.href}
                        rel="noreferrer noopener"
                        target="_blank"
                      >
                        {project.link.copy}
                      </a>
                  }
                  <p>{project.description}</p>

                  {
                    tags.length > 0 &&
                      <ul class="project-tags">
                        {tags}
                      </ul>
                  }
                </div>
              </li>
            );
          })
      }
    </ul>
  </main>
</Layout>

<style>
  main#projects {
    padding: 2rem;
    max-width: 1150px;
    margin: 0 auto;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: rgb(215,213,213);
    font-family: 'Charsey';
  }

  /* Page heading */
  main#projects h1 {
    text-align: center;
    margin-top: 2rem;
    margin-bottom: 1.5rem;
    font-size: 3rem;
    font-family: 'Charsey';
    letter-spacing: 2px;
    color: white;
  }

  /* Subheading */
  main#projects > p {
    width: 100%;
    text-align: center;
    max-width: 750px;
    margin-top: unset;
    margin-bottom: 2rem;
    font-size: 1.3rem;
    line-height: 1.7rem;
    font-family: 'Charsey';
    color: white;
  }

  /* List of projects */
  main#projects #project-list {
    gap: 2rem;
    display: flex;
    flex-direction: column;
    padding: unset;
  }

  /* Individual projects */
  main#projects #project-list .project {
    display: grid;
    grid-template-columns: 40% 1fr;
    gap: 2rem;
    border-radius: .5rem;
    background-color: #181818;
  }

  /* Project image */
  main#projects #project-list .project .project-image {
    max-width: 400px;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-top-left-radius: .5rem;
    border-bottom-left-radius: .5rem;
    background-color: rgb(79, 92, 122);
  }

  /* Project copy wrapper */
  main#projects #project-list .project .project-copy {
    margin-top: 1rem;
    margin-right: 1rem;
    margin-bottom: 1rem;
  }

  /* Project name */
  main#projects #project-list .project h2 {
    font-size: 2rem;
    margin-top: unset;
    margin-bottom: 1rem;
    color: rgb(170, 170, 246);
  }

  /* Link to live project */
  main#projects #project-list .project a {
    border: 2px solid rgb(234, 151, 255);
    border-radius: .5rem;
    padding: .25rem 1rem;
    color: rgb(234, 151, 255);
    text-decoration: none;
    transition: transform .15s ease-in-out;
    display: inline-block;
  }
  main#projects #project-list .project a:hover {
    transform: translate(3%, 3%);
  }

  /* Project description */
  main#projects #project-list .project p {
    font-size: 1.2rem;
  }

  /* Project tags */
  main#projects #project-list .project-tags {
    display: flex;
    flex-direction: row;
    list-style-type: none;
    gap: 1rem;
    flex-wrap: wrap;
    padding-left: unset;
  }

  /* Individual project tag */
  main#projects #project-list .project-tag {
    border: 2px solid rgb(121, 192, 255);
    padding: .25rem 1rem;
    border-radius: 2rem;
    transition: transform .2s ease-in-out;
  }
  main#projects #project-list .project-tag:hover {
    transform: translate(3%, 3%);
  }

  /* Mobile mode */
  @media (max-width: 769px) {
    main#projects #project-list .project {
      display: flex;
      flex-direction: column;
    }

    /* Project image */
    main#projects #project-list .project .project-image {
      width: 100%;
      max-width: unset;
      height: 200px;
      border-top-right-radius: .5rem;
      border-bottom-left-radius: unset;
    }

    /* Project copy container */
    main#projects #project-list .project .project-copy {
      margin: 1rem;
    }

    /* Project paragraph copy */
    main#projects #project-list .project .project-copy > p {
      font-size: 1.5rem;
    }
  }
  </style>